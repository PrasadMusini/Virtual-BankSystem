<mat-card>
    <div *ngIf="messages" class="mt-3">
        <div *ngIf="conversation">
            <p>Temat: {{ conversation.topic }}</p>
            <p>{{ conversation.user.address.name }} {{ conversation.user.address.surname }}</p>
        </div>
        <hr />
        <div *ngFor="let message of messages">
            <mat-card
                [ngClass]="message.user.identifier === authService.getUserIdentifier() ? 'my-message' : 'other-message'">
                {{ message.message}}
                <div class="date-text">{{ message.date }}</div>
            </mat-card>
        </div>
    </div>
    <div *ngIf="messages && messages.length === 0">
        Brak wiadomości
    </div>

    <hr />

    <mat-toolbar>
        Odpowiedz
    </mat-toolbar>
    <form [formGroup]="replyForm" #formDirective="ngForm" (ngSubmit)="sendReply()">
        <div class="col-12">
            <mat-form-field style="width: 100%">
                <textarea matInput placeholder="Treść" formControlName="message" required></textarea>
            </mat-form-field>
        </div>
        <div class="d-flex justify-content-center">
            <button mat-raised-button color="primary">Wyślij</button></div>
    </form>
</mat-card>